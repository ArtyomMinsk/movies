{% extends "movies/base.html" %}
{% load static %}
{% block head %}
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.12/css/dataTables.bootstrap.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
{% endblock %}
{% block body %}
    <div class="container-fluid">
        <table id="movies_table" class="table table-striped table-bordered" cellspacing="0" width="100%">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Title</th>
                    <th>Genre</th>
                    <th>Average Rating</th>
                </tr>
                <tfoot>
                    <tr>
                        <th>ID</th>
                        <th>Title</th>
                        <th>Genre</th>
                        <th>Average Rating</th>
                    </tr>
                </tfoot>
            </thead>
            <tbody>
            {% for movie in movies %}
                <tr>
                    <td>{{ movie.id }}</td>
                    <td><a href="/movie/{{ movie.id }}/">{{ movie.title }}</a></td>
                    <td>{{ movie.genre }}</td>
                    <td>{{ movie.average_rating|floatformat:2 }}</td>
                </tr>
            {% endfor %}
                </tbody>
            </table>
    </div>
    {% endblock %}
    {% block scripts %}
        <script src="https://cdn.datatables.net/1.10.12/js/jquery.dataTables.min.js"></script>
        <script src="https://cdn.datatables.net/1.10.12/js/dataTables.bootstrap.min.js"></script>
        <script src="{% static 'movies/js/insert_table.js' %}"></script>
    {% endblock %}
